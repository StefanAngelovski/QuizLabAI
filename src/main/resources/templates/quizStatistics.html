<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz Statistics</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

  <style>
      html, body {
        height: 100%;
      }
      body {
        display: flex;
        flex-direction: column;
        background-color: #f4f4f9;
      }
      main {
        display: flex;
        flex: 1;
        justify-content: center;
        align-items: center;
      }
      .container{
        width: 95%;
        background-color: #f9f9fc;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-top: 30px;
      }
      .score-distribution-section{
          margin: 50px 0 50px 0;
      }
      .iconValue{
        display: flex;
        align-content: center;
        gap: 10px;
      }
      .stat-icon{
        font-size: 25px;
        padding-top: 7px;
      }
      .stat-value{
        font-size: 25px;
        font-weight: bold;
      }
      .stats-section, .performance-stats-section{
        display: flex;
        gap: 50px;
      }
      .stats-and-additional-section{
        display: flex;
        flex-direction: column;
      }
      .heading-with-lines {
        display: flex;
        align-items: center;
        text-align: center;
        font-size: 2em;
        font-weight: bold;
        color: #333;
        margin-bottom: 30px;
      }

      .heading-with-lines::before,
      .heading-with-lines::after {
        content: "";
        flex: 1;
        border-bottom: 3px solid #d9534f;
        margin: 0 15px;
      }
      .stat-box{
        margin: 20px 0 0 30px;
        width: 230px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 10px 0 0 20px;
        background-color: white;
        border-radius: 4px;
      }
      .stat-label{
        margin-top: -15px;
      }
      .fa-clipboard-list{
        color: darkgoldenrod;
      }
      .fa-check-circle{
        color: #70ae6e;
      }
      .fa-clock{
        color: #beee62;
      }
      .fa-star{
        color: #5D1953;
      }
      .fa-trophy{
        color: darkgoldenrod;
      }
      .fa-arrow-down{
        color: #f4743b;
      }
      table{
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
  </style>
</head>
<body>
<div>
  <main>
    <div class="container">
      <h1 class="heading-with-lines">
        <span th:text="${quizStatistics.quiz.name} + ' - Statistics'">Quiz Name - Statistics</span>
      </h1>

      <div class="stats-and-additional-section">
        <div class="stats-section">
          <!-- Total Attempts -->
          <div class="stat-box">
            <div class="iconValue">
              <i class="fas fa-clipboard-list stat-icon"></i>
              <p class="stat-value" th:text="${quizStatistics.totalAttempts}">11</p>
            </div>
            <p class="stat-label">Total Attempts</p>
          </div>

          <!-- Completion Rate -->
          <div class="stat-box">
            <div class="iconValue">
              <i class="fas fa-check-circle stat-icon"></i>
              <p class="stat-value" th:text="${quizStatistics.completionRate + '%'}">70%</p>
            </div>
            <p class="stat-label">Completion Rate</p>
          </div>

          <!-- Average Time Spent -->
          <div class="stat-box">
            <div class="iconValue">
              <i class="fas fa-clock stat-icon"></i>
              <p class="stat-value" th:text="${quizStatistics.averageTimeSpent + ' min'}">8 min</p>
            </div>
            <p class="stat-label">Average Time Spent</p>
          </div>
        </div>

        <!-- Performance Stats Section -->
        <div class="performance-stats-section">
          <!-- Average Score -->
          <div class="stat-box">
            <div class="iconValue">
              <i class="fas fa-star stat-icon"></i>
              <p class="stat-value" th:text="${quizStatistics.averageScore}">6</p>
            </div>
            <p class="stat-label">Average Score</p>
          </div>

          <!-- Highest Score -->
          <div class="stat-box">
            <div class="iconValue">
              <i class="fas fa-trophy stat-icon"></i>
              <p class="stat-value" th:text="${quizStatistics.highestScore}">10</p>
            </div>
            <p class="stat-label">Highest Score</p>
          </div>

          <!-- Lowest Score -->
          <div class="stat-box">
            <div class="iconValue">
              <i class="fas fa-arrow-down stat-icon"></i>
              <p class="stat-value" th:text="${quizStatistics.lowestScore}">3</p>
            </div>
            <p class="stat-label">Lowest Score</p>
          </div>
        </div>
      </div>

      <!-- Score Distribution Chart -->
      <div class="score-distribution-section">
        <h5>Score Distribution</h5>
        <div class="card">
          <div class="card-body">
            <p>chart placeholder</p>
          </div>
        </div>
      </div>

      <!-- Leaderboard Section -->
      <div class="leaderboard-section">
        <h5>Leaderboard</h5>
        <table class="table table-striped">
          <thead>
          <tr>
            <th>Rank</th>
            <th>Student</th>
            <th>Score</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="entry, iterStat : ${quizStatistics.leaderboard}">
            <td th:text="${iterStat.index + 1}">1</td>
            <td th:text="${entry.studentName}">Student Name</td>
            <td th:text="${entry.score}">Score</td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>

  </main>
</div>

</body>
</html>